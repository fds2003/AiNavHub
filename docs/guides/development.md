# 开发指南

## 项目设置

### 环境要求
- Node.js (可选，用于构建工具)
- Python 3.x (用于本地服务器测试)
- 任何现代文本编辑器或IDE

### 本地开发环境搭建
1. 克隆项目
```bash
git clone <repository-url>
cd ainavhub
```

2. 启动本地服务器（用于测试JSON数据加载）
```bash
python3 -m http.server 8000
```

3. 访问 `http://localhost:8000` 查看应用

## 代码结构

### 文件组织
```
ainavhub/
├── index.html              # 主页面
├── 关于我们.html           # 关于页面
├── 专题详情.html           # 专题详情页面
├── data/                   # JSON数据文件
│   ├── rss-data.json       # 新闻数据
│   ├── rss-data-simple.json # 备用新闻数据
│   ├── tools.json          # 工具数据
│   ├── products.json       # 产品数据
│   ├── learning-resources.json # 学习资源数据
│   └── topics.json         # 专题数据
├── js/
│   └── performance-optimizer.js # 性能优化脚本
└── docs/                   # 文档目录
```

### 代码规范

#### HTML规范
- 使用语义化HTML标签
- 遵循Web可访问性标准
- 保持一致的缩进（2空格）
- 使用有意义的class和id命名

#### CSS规范
- 使用TailwindCSS工具类
- 自定义样式放在CSS变量中
- 遵循移动优先响应式设计
- 使用一致的配色方案

#### JavaScript规范
- 使用ES6+语法
- 遵循模块化设计原则
- 使用有意义的变量和函数命名
- 添加适当注释说明复杂逻辑

## 核心功能实现

### 数据管理

#### 数据文件格式
所有数据文件遵循以下格式：

**新闻数据 (rss-data.json)**:
```json
{
  "articles": [
    {
      "title": "文章标题",
      "summary": "文章摘要",
      "link": "原文链接",
      "source": "信息来源",
      "category": "分类",
      "pubDate": "发布日期(ISO格式)",
      "aiScore": 评分,
      "author": "作者"
    }
  ]
}
```

#### 数据加载流程
1. 检查本地缓存
2. 尝试主数据源
3. 备用数据源
4. 演示数据

### 模块说明

#### AINewsProcessor类
主要负责新闻数据的处理和展示，包含以下功能：
- 数据加载和验证
- 文章分类和过滤
- 内容生成和渲染
- 缓存管理

#### DataManager类
负责数据缓存和管理：
- 本地缓存操作
- 缓存有效性验证
- 数据预加载

#### DOMOptimizer类
优化DOM操作：
- 批量DOM更新
- 防抖搜索功能
- 性能监控

### 事件处理

#### 用户交互事件
- 搜索输入事件 (防抖处理)
- 分类过滤点击
- 页面跳转
- 主题切换

#### 页面生命周期事件
- DOMContentLoaded初始化
- 页面可见性变化
- 错误处理

## 开发任务

### 添加新功能

#### 1. 添加新的数据类别
1. 更新对应JSON文件
2. 在HTML中添加过滤按钮
3. 实现过滤逻辑
4. 更新显示组件

#### 2. 扩展数据模型
1. 扩展现有JSON数据结构
2. 更新数据处理函数
3. 修改显示组件以支持新字段

#### 3. 添加搜索功能
1. 确定搜索范围
2. 实现搜索算法
3. 添加搜索UI
4. 优化搜索性能

### 修改现有功能

#### 性能优化
1. 分析性能瓶颈
2. 实施优化措施
3. 验证优化效果

#### UI/UX改进
1. 收集用户反馈
2. 设计改进方案
3. 实施改进
4. 测试用户体验

## 测试指南

### 功能测试
1. 数据加载测试
2. 过滤功能测试
3. 搜索功能测试
4. 响应式设计测试

### 性能测试
1. 页面加载时间
2. 数据加载效率
3. 内存使用情况
4. 缓存效果

### 兼容性测试
1. 不同浏览器测试
2. 移动设备测试
3. 屏幕尺寸适配

## 调试技巧

### 常见问题

#### 1. 数据加载失败
- 检查JSON文件格式
- 验证文件路径
- 检查网络请求

#### 2. 页面显示异常
- 检查控制台错误
- 验证DOM结构
- 确认CSS类名

#### 3. JavaScript错误
- 使用浏览器开发者工具
- 检查语法错误
- 验证函数调用

### 调试工具
- 浏览器开发者工具
- console.log调试
- 断点调试

## 代码质量

### 代码审查清单
- [ ] 代码功能正确实现
- [ ] 性能考虑充分
- [ ] 代码可读性良好
- [ ] 符合项目规范
- [ ] 无明显bug

### 重构建议
- 保持函数短小
- 消除重复代码
- 改进命名清晰度
- 简化复杂逻辑

## 提交规范

### Git工作流
1. 从main分支创建功能分支
2. 完成功能开发
3. 提交代码到功能分支
4. 创建Pull Request
5. 代码审查
6. 合并到main分支

### 提交信息规范
```
<type>(<scope>): <subject>
<BLANK LINE>
<body>
<BLANK LINE>
<footer>
```

类型说明：
- feat: 新功能
- fix: 修复bug
- docs: 文档更新
- style: 代码格式调整
- refactor: 重构代码
- test: 测试相关
- chore: 构建过程或辅助工具变动

## 部署指南

### 本地构建测试
1. 启动本地服务器
2. 验证所有功能正常
3. 测试不同设备兼容性

### 部署流程
1. 确保所有测试通过
2. 更新版本号
3. 部署到生产环境
4. 验证部署结果

## 扩展开发

### 新功能规划
1. 需求分析
2. 技术评估
3. 开发计划
4. 实现开发
5. 测试验证

### 第三方集成
- API接口设计
- 认证授权机制
- 数据同步策略

## 最佳实践

### 性能优化
- 最小化HTTP请求
- 优化资源加载
- 使用缓存策略
- 代码分割

### 安全考虑
- 输入验证
- 防止XSS攻击
- 保护用户隐私
- 安全的数据处理

### 可维护性
- 模块化设计
- 清晰的文档
- 一致的编码风格
- 充分的测试覆盖